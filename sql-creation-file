--CREATION SCRIPT FOR PROJECT1 TABLES TREVOR DUNBAR

CREATE TABLE Store (
	ID INT IDENTITY(1,1),
	Name NVARCHAR(100) NOT NULL,
	City NVARCHAR(100) NOT NULL,
	State NVARCHAR(100) NOT NULL,
	Profit MONEY NOT NULL,
	PRIMARY KEY (ID),
);

CREATE TABLE Customer (
	ID INT IDENTITY(1,1),
	FirstName NVARCHAR(100) NOT NULL,
	LastName NVARCHAR(100) NOT NULL,
	Email NVARCHAR(100) NOT NULL,
	Address NVARCHAR(100) NOT NULL,
	PRIMARY KEY (ID),
);

CREATE TABLE Product (
	ID INT IDENTITY(1,1),
	Name NVARCHAR(100) NOT NULL,
	Price MONEY NOT NULL,
	PRIMARY KEY (ID),
);

CREATE TABLE [Order] (
	ID INT IDENTITY(1,1),
	StoreID INT NULL,
	CustomerID INT NULL,
	TotalPrice MONEY NOT NULL,
	OrderTime DATETIME2 NOT NULL,
	PRIMARY KEY(ID),
	FOREIGN KEY (StoreID) REFERENCES Store(ID) ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (CustomerID) REFERENCES Customer(ID) ON DELETE CASCADE ON UPDATE CASCADE,
);

CREATE TABLE StoreItem (
	ID INT IDENTITY(1,1),
	StoreID INT NULL,
	ProductID INT NULL,
	Quantity INT NOT NULL,
	PRIMARY KEY (ID),
	FOREIGN KEY (StoreID) REFERENCES Store(ID) ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (ProductID) REFERENCES Product(ID) ON DELETE CASCADE ON UPDATE CASCADE,
);

CREATE TABLE OrderItem (
	ID INT IDENTITY(1,1),
	OrderID INT NULL,
	ProductID INT NULL,
	Quantity INT NOT NULL,
	PRIMARY KEY (ID),
	FOREIGN KEY (OrderID) REFERENCES [Order](ID) ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (ProductID) REFERENCES Product(ID) ON DELETE CASCADE ON UPDATE CASCADE,
);
